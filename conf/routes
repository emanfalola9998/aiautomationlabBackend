# Routes
# This file defines all application routes (Higher priority routes first)
# https://www.playframework.com/documentation/latest/ScalaRouting
# ~~~~

# Auth routes
POST    /api/auth/signup          controllers.AuthController.signUp()
POST    /api/auth/login           controllers.AuthController.login()
POST    /api/auth/google          controllers.AuthController.googleAuth()
GET     /api/auth/verify          controllers.AuthController.verifyToken()
GET     /api/auth/me              controllers.AuthController.me()

# Blog routes
GET     /api/blogs                  controllers.BlogController.getAll
GET     /api/blogs/:id              controllers.BlogController.getById(id: String)
POST    /api/blogs                  controllers.BlogController.create
GET     /api/blogs/:id/full         controllers.BlogController.getBlogWithComments(id: String)
PUT     /api/blogs/:id/like         controllers.BlogController.likeBlog(id: String)

# Comments API
POST    /api/blogs/:blogId/comments                      controllers.CommentsController.createComment(blogId: String)
GET     /api/blogs/:blogId/comments                      controllers.CommentsController.getComments(blogId: String)
GET     /api/blogs/:blogId/comments/:id                  controllers.CommentsController.getComment(blogId: String, id: Int)
DELETE  /api/blogs/:blogId/comments/:id                  controllers.CommentsController.deleteComment(blogId: String, id: Int)
PUT     /api/blogs/:blogId/comments/:commentId/rating    controllers.CommentsController.updateRating(blogId: String, commentId:Int)

# Notification routes
GET     /api/notifications              controllers.NotificationController.getNotifications()
GET     /api/notifications/unread       controllers.NotificationController.getUnreadCount()
PUT     /api/notifications/:id/read     controllers.NotificationController.markAsRead(id: Int)
PUT     /api/notifications/read-all     controllers.NotificationController.markAllAsRead()

# CORS preflight - Must be at the end
OPTIONS /api/notifications              controllers.NotificationController.options(path: String)
OPTIONS /api/notifications/*path        controllers.NotificationController.options(path: String)
OPTIONS /*path                          controllers.AuthController.options(path: String)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)